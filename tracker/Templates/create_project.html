{% extends 'base.html' %}
{% block content %}

<h2>Create Project</h2>

<form method="post" id="project-form">
    {% csrf_token %}
    
    Project Name<br>
    {{ form.name }}<br><br>

    Client Name<br>
    {{ form.client_name }}<br><br>

    Client Phone Number<br>
    {{ form.client_phone }}<br><br>

    Client Email Address<br>
    {{ form.client_email }}<br><br>

    Client Physical Address<br>
    {{ form.client_address }}<br><br>

    {{ form.billing_type.label_tag }}<br>
    {{ form.billing_type }}<br><br>

    <div id="hourly-rate-field">
        {{ form.hourly_rate.label_tag }}<br>
        {{ form.hourly_rate }}<br><br>
    </div>

    <div id="fixed-rate-field" style="display:none;">
        {{ form.fixed_rate.label_tag }}<br>
        {{ form.fixed_rate }}<br><br>
    </div>

    {{ form.start_date.label_tag }}<br>
    {{ form.start_date }}<br><br>

    <button type="submit">Save Project</button>
</form>

<script>
    const billingTypeSelect = document.getElementById("id_billing_type");
    const hourlyField = document.getElementById("hourly-rate-field");
    const fixedField = document.getElementById("fixed-rate-field");

    function toggleRateFields() {
        if (billingTypeSelect.value === "hourly") {
            hourlyField.style.display = "block";
            fixedField.style.display = "none";
        } else if (billingTypeSelect.value === "fixed") {
            hourlyField.style.display = "none";
            fixedField.style.display = "block";
        }
    }

    billingTypeSelect.addEventListener("change", toggleRateFields);
    document.addEventListener("DOMContentLoaded", toggleRateFields);
</script>

{% endblock %}

